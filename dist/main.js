(()=>{"use strict";const e=e=>"fio"===e.name?""!==e.value.replace(/([a-zА-Я]+\s?)+/gi,"")||""===e.value:"phone"===e.name?""!==e.value.replace(/\+?\d{10,16}/g,"")||""===e.value:void 0,t=({formId:t,someElem:n=[]})=>{const o=document.getElementById(t),r=document.createElement("div"),l=document.createElement("div");try{if(!o)throw new Error("Положи форму на место, а не сайт(!)");o.addEventListener("submit",(t=>{t.preventDefault(),(()=>{const t=o.querySelectorAll("input"),a=new FormData(o),c={};var s;r.innerHTML="",l.classList.add("lds-ellipsis"),l.innerHTML="<div></div><div></div><div></div><div></div>",r.append(l),r.style.color="#000",o.append(r),a.forEach(((e,t)=>{c[t]=e})),n.forEach((e=>{try{const t=document.getElementById(e.id);"block"===e.type?c[e.id]=t.textContent:"input"===e.type&&(c[e.id]=t.value)}catch(e){console.log("Cловили! Это не страница с калькулятором")}})),(t=>{let n=!0;return t.forEach((t=>{e(t)&&(n=!1)})),n})(t)?(s=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{r.innerHTML="",r.innerHTML="Спасибо, заявка принята! <br>Наш менеджер скоро свяжется с Вами",t.forEach((e=>{e.value=""}))})).catch((e=>{r.innerHTML="",r.textContent="Ошибка отправки"})):(alert("В форму введены не все данные или допущены ошибки"),r.textContent="")})()}))}catch(e){console.error(e.message)}};(()=>{const e=document.querySelector(".col-sm-12 > .button"),t=document.querySelectorAll('[title="Close"]'),n=document.getElementById("services"),o=document.querySelector(".header-modal"),r=document.querySelector(".services-modal"),l=document.querySelector(".overlay"),a=e=>{e.style.display="block",l.style.display="block"},c=e=>{e.style.display="none",l.style.display="none"};e.addEventListener("click",(()=>a(o))),n.addEventListener("click",(e=>{e.target.classList.contains("btn-success")&&a(r)})),t.forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.contains("header-modal__close")&&c(o),e.target.classList.contains("services-modal__close")&&c(r)}))}))})(),document.querySelectorAll("input").forEach((t=>{t.addEventListener("input",(n=>{e(n.target)?t.classList.add("error"):(t.classList.remove("error"),t.classList.add("correct"))}))})),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelectorAll(".benefits__item"),n=document.querySelector(".benefits__arrow--left"),o=document.querySelector(".benefits__arrow--right");let r,l,a,c=0;r=document.body.offsetWidth>=576?e.clientWidth/3:e.clientWidth,t.forEach((e=>{e.style.minWidth=`${r}px`})),n.addEventListener("click",(()=>{document.body.offsetWidth>=576?(c+=r,+c===r?(l=t[t.length-1].cloneNode(!0),a=t[t.length-2].cloneNode(!0),e.insertBefore(a,t[0]),e.insertBefore(l,t[0]),e.style.transform=`translateX(${-c}px)`):+c==2*r?e.style.transform="translateX(0px)":+c==3*r?(c=-(t.length-3)*r,e.style.transform=`translateX(${c}px)`,l.remove(),a.remove()):e.style.transform=`translateX(${c}px)`):(c+=r,c>0&&(c=-(t.length-1)*r),e.style.transform=`translateX(${c}px)`)})),o.addEventListener("click",(()=>{document.body.offsetWidth>=576?(c-=r,Math.abs(+c)===(t.length-2)*r?(l=t[0].cloneNode(!0),a=t[1].cloneNode(!0),e.append(l),e.append(a),e.style.transform=`translateX(${c}px)`):Math.abs(+c)===t.length*r?(c=0,e.style.transform=`translateX(${c}px)`,l.remove(),a.remove()):e.style.transform=`translateX(${c}px)`):(c-=r,c===-t.length*r&&(c=0),e.style.transform=`translateX(${c}px)`)}))})();const n=document.querySelectorAll(".countdown");0!==n.length&&n.forEach((e=>{((e,t)=>{const n=e.querySelector(".count_1 > span"),o=e.querySelector(".count_2 > span"),r=e.querySelector(".count_3 > span"),l=e.querySelector(".count_4 > span");let a;const c=e=>e<10?e="0"+e:e,s=function(){let e=(()=>{let e=(new Date(t).getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/86400),hours:Math.floor(e/60/60%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();e.timeRemaining>0?(n.textContent=c(e.days),o.textContent=c(e.hours),r.textContent=c(e.minutes),l.textContent=c(e.seconds)):(n.textContent="00",o.textContent="00",r.textContent="00",l.textContent="00",clearInterval(a))};s(),a=setInterval(s,1e3)})(e,"29 december 2021 23:30:00")})),document.body.classList.contains("balkony")&&(()=>{const e=document.querySelector("#calc > .container"),t=document.getElementById("calc-type"),n=document.getElementById("calc-type-material"),o=document.getElementById("calc-input"),r=document.getElementById("calc-total");e.addEventListener("input",(e=>{e.target!==t&&e.target!==n&&e.target!==o||(e.target===o?e.target.value=e.target.value.replace("/D/g",""):e.target.value,(()=>{let e=0;const l=+o.value,a=+t.value,c=+n.value;e=a&&c?l*a*c:0,(({timing:e,draw:t,duration:n})=>{let o=performance.now();requestAnimationFrame((function r(l){let a=(l-o)/n;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(r)}))})({duration:1e3,timing:e=>e,draw(t){r.value=parseInt(t*e)}})})())}))})();const o=document.querySelectorAll("form");0!==o.length?o.forEach((e=>{t({formId:e.id,someElem:[{type:"input",id:"calc-total"}]})})):console.log("Упс.. Формы потерялись..")})();