(()=>{"use strict";const e=()=>{const e=document.querySelectorAll("#services > .container > .row > .col-md-12"),t=document.querySelector(".services-arrows"),n=(t,n)=>{e[t].style.display="block",e[n].style.display="none"},o=(t,n)=>{e[n-1].style.display="block",e[t-1].style.display="none"};document.body.offsetWidth>=576?(()=>{let r=2,l=0;e.forEach(((e,t)=>{e.style.display="none",t<r&&(e.style.display="block")})),t.addEventListener("click",(t=>{if(t.target.closest(".services__arrow--right")){if(r===e.length||document.body.offsetWidth<576)return!1;n(r,l),r++,l++}if(t.target.closest(".services__arrow--left")){if(0===l||document.body.offsetWidth<576)return!1;o(r,l),r--,l--}}))})():(()=>{let r=1,l=0;e.forEach(((e,t)=>{e.style.display="none",t<r&&(e.style.display="block")})),t.addEventListener("click",(t=>{if(t.target.closest(".services__arrow--right")){if(r===e.length||document.body.offsetWidth>=576)return!1;n(r,l),r++,l++}if(t.target.closest(".services__arrow--left")){if(0===l||document.body.offsetWidth>=576)return!1;o(r,l),r--,l--}}))})()},t=e=>"fio"===e.name?""!==e.value.replace(/([a-zА-Я]+\s?)+/gi,"")||""===e.value:"phone"===e.name?""!==e.value.replace(/\+?\d{10,16}/g,"")||""===e.value:void 0,n=({formId:e,someElem:n=[]})=>{const o=document.getElementById(e),r=document.createElement("div"),l=document.createElement("div");try{if(!o)throw new Error("Положи форму на место, а не сайт(!)");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),s=new FormData(o),c={};var a;r.innerHTML="",l.classList.add("lds-ellipsis"),l.innerHTML="<div></div><div></div><div></div><div></div>",r.append(l),r.style.color="#000",o.append(r),s.forEach(((e,t)=>{c[t]=e})),n.forEach((e=>{try{const t=document.getElementById(e.id);"block"===e.type?c[e.id]=t.textContent:"input"===e.type&&(c[e.id]=t.value)}catch(e){console.log("Cловили! Это не страница с калькулятором")}})),(e=>{let n=!0;return e.forEach((e=>{t(e)&&(n=!1)})),n})(e)?(a=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{r.innerHTML="",r.innerHTML="Спасибо, заявка принята! <br>Наш менеджер скоро свяжется с Вами",e.forEach((e=>{e.value=""}))})).catch((e=>{r.innerHTML="",r.textContent="Ошибка отправки"})):(alert("В форму введены не все данные или допущены ошибки"),r.textContent="")})()}))}catch(e){console.error(e.message)}};(()=>{const e=document.querySelector(".col-sm-12 > .button"),t=document.querySelectorAll('[title="Close"]'),n=document.getElementById("services"),o=document.querySelector(".header-modal"),r=document.querySelector(".services-modal"),l=document.querySelector(".overlay"),s=e=>{e.style.display="block",l.style.display="block"},c=e=>{e.style.display="none",l.style.display="none"};e.addEventListener("click",(()=>s(o))),n.addEventListener("click",(e=>{e.target.classList.contains("btn-success")&&s(r)})),t.forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.contains("header-modal__close")&&c(o),e.target.classList.contains("services-modal__close")&&c(r)}))}))})(),document.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(n=>{t(n.target)?e.classList.add("error"):(e.classList.remove("error"),e.classList.add("correct"))}))})),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelectorAll(".benefits__item"),n=document.querySelector(".benefits__arrow--left"),o=document.querySelector(".benefits__arrow--right");let r,l,s,c=0;r=document.body.offsetWidth>=576?e.clientWidth/3:e.clientWidth,t.forEach((e=>{e.style.minWidth=`${r}px`})),n.addEventListener("click",(()=>{document.body.offsetWidth>=576?(c+=r,+c===r?(l=t[t.length-1].cloneNode(!0),s=t[t.length-2].cloneNode(!0),e.insertBefore(s,t[0]),e.insertBefore(l,t[0]),e.style.transform=`translateX(${-c}px)`):+c==2*r?e.style.transform="translateX(0px)":+c==3*r?(c=-(t.length-3)*r,e.style.transform=`translateX(${c}px)`,l.remove(),s.remove()):e.style.transform=`translateX(${c}px)`):(c+=r,c>0&&(c=-(t.length-1)*r),e.style.transform=`translateX(${c}px)`)})),o.addEventListener("click",(()=>{document.body.offsetWidth>=576?(c-=r,Math.abs(+c)===(t.length-2)*r?(l=t[0].cloneNode(!0),s=t[1].cloneNode(!0),e.append(l),e.append(s),e.style.transform=`translateX(${c}px)`):Math.abs(+c)===t.length*r?(c=0,e.style.transform=`translateX(${c}px)`,l.remove(),s.remove()):e.style.transform=`translateX(${c}px)`):(c-=r,c===-t.length*r&&(c=0),e.style.transform=`translateX(${c}px)`)}))})(),(()=>{const e=document.getElementById("offer"),t=document.querySelector("a.smooth-scroll");t.style.display="none",window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>=e.clientHeight?t.style.display="block":t.style.display="none"})),t.addEventListener("click",(e=>{e.preventDefault();const n=t.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector("#documents > .container"),t=document.querySelector(".overlay"),n=document.querySelector(".header-modal"),o=document.querySelector(".header-modal > .fancybox-skin");e.addEventListener("click",(e=>{if(e.preventDefault(),e.target.classList.contains("sertific-img")){t.style.display="block";const r=n.cloneNode(),l=o.cloneNode();l.innerHTML=`<img src="${e.target.src}" class="img-responsive sertific-img" alt="" width = 400px>\n                                  <span title="Close" class="header-modal__close">x</span>`,r.append(l),r.style.display="block",document.body.append(r),r.addEventListener("click",(e=>{e.target.classList.contains("header-modal__close")&&(r.style.display="none",t.style.display="none")}))}}))})(),e(),window.addEventListener("resize",(()=>{e()}),!1);const o=document.querySelectorAll(".countdown");0!==o.length&&o.forEach((e=>{((e,t)=>{const n=e.querySelector(".count_1 > span"),o=e.querySelector(".count_2 > span"),r=e.querySelector(".count_3 > span"),l=e.querySelector(".count_4 > span");let s;const c=e=>e<10?e="0"+e:e,a=function(){let e=(()=>{let e=(new Date(t).getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/86400),hours:Math.floor(e/60/60%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();e.timeRemaining>0?(n.textContent=c(e.days),o.textContent=c(e.hours),r.textContent=c(e.minutes),l.textContent=c(e.seconds)):(n.textContent="00",o.textContent="00",r.textContent="00",l.textContent="00",clearInterval(s))};a(),s=setInterval(a,1e3)})(e,"29 december 2021 23:30:00")})),document.body.classList.contains("balkony")&&(()=>{const e=document.querySelector("#calc > .container"),t=document.getElementById("calc-type"),n=document.getElementById("calc-type-material"),o=document.getElementById("calc-input"),r=document.getElementById("calc-total");e.addEventListener("input",(e=>{e.target!==t&&e.target!==n&&e.target!==o||(e.target===o?e.target.value=e.target.value.replace("/D/g",""):e.target.value,(()=>{let e=0;const l=+o.value,s=+t.value,c=+n.value;e=s&&c?l*s*c:0,(({timing:e,draw:t,duration:n})=>{let o=performance.now();requestAnimationFrame((function r(l){let s=(l-o)/n;s>1&&(s=1);let c=e(s);t(c),s<1&&requestAnimationFrame(r)}))})({duration:1e3,timing:e=>e,draw(t){r.value=parseInt(t*e)}})})())}))})();const r=document.querySelectorAll("form");0!==r.length?r.forEach((e=>{n({formId:e.id,someElem:[{type:"input",id:"calc-total"}]})})):console.log("Упс.. Формы потерялись..")})();