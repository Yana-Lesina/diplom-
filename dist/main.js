(()=>{"use strict";const e=()=>{const e=document.querySelectorAll("#services > .container > .row > .col-md-12"),t=document.querySelector(".services-arrows"),n=(t,n)=>{e[t].style.display="block",e[n].style.display="none"},o=(t,n)=>{e[n-1].style.display="block",e[t-1].style.display="none"};document.body.offsetWidth>=576?(()=>{let r=2,l=0;e.forEach(((e,t)=>{e.style.display="none",t<r&&(e.style.display="block")})),t.addEventListener("click",(t=>{if(t.target.closest(".services__arrow--right")){if(r===e.length||document.body.offsetWidth<576)return!1;n(r,l),r++,l++}if(t.target.closest(".services__arrow--left")){if(0===l||document.body.offsetWidth<576)return!1;o(r,l),r--,l--}}))})():(()=>{let r=1,l=0;e.forEach(((e,t)=>{e.style.display="none",t<r&&(e.style.display="block")})),t.addEventListener("click",(t=>{if(t.target.closest(".services__arrow--right")){if(r===e.length||document.body.offsetWidth>=576)return!1;n(r,l),r++,l++}if(t.target.closest(".services__arrow--left")){if(0===l||document.body.offsetWidth>=576)return!1;o(r,l),r--,l--}}))})()},t=e=>"fio"===e.name?""!==e.value.replace(/([a-zА-Я]+\s?)+/gi,"")||""===e.value:"phone"===e.name?""!==e.value.replace(/\+?\d{10,16}/g,"")||""===e.value:void 0,n=({formId:e,someElem:n=[]})=>{const o=document.getElementById(e),r=document.createElement("div"),l=document.createElement("div");try{if(!o)throw new Error("Положи форму на место, а не сайт(!)");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),s=new FormData(o),a={};var c;r.innerHTML="",l.classList.add("lds-ellipsis"),l.innerHTML="<div></div><div></div><div></div><div></div>",r.append(l),r.style.color="#000",o.append(r),s.forEach(((e,t)=>{a[t]=e})),n.forEach((e=>{try{const t=document.getElementById(e.id);"block"===e.type?a[e.id]=t.textContent:"input"===e.type&&(a[e.id]=t.value)}catch(e){console.log("Cловили! Это не страница с калькулятором")}})),(e=>{let n=!0;return e.forEach((e=>{t(e)&&(n=!1)})),n})(e)?(c=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{r.innerHTML="",r.innerHTML="Спасибо, заявка принята! <br>Наш менеджер скоро свяжется с Вами",e.forEach((e=>{e.value=""}))})).catch((e=>{r.innerHTML="",r.textContent="Ошибка отправки"})):(alert("В форму введены не все данные или допущены ошибки"),r.textContent="")})()}))}catch(e){console.error(e.message)}};(()=>{const e=document.querySelector(".col-sm-12 > .button"),t=document.querySelectorAll('[title="Close"]'),n=document.getElementById("services"),o=document.querySelector(".header-modal"),r=document.querySelector(".services-modal"),l=document.querySelector(".overlay"),s=e=>{e.style.display="block",l.style.display="block"},a=e=>{e.style.display="none",l.style.display="none"};e.addEventListener("click",(()=>s(o))),n.addEventListener("click",(e=>{e.target.classList.contains("btn-success")&&s(r)})),t.forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.contains("header-modal__close")&&a(o),e.target.classList.contains("services-modal__close")&&a(r)}))}))})(),document.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(n=>{t(n.target)?e.classList.add("error"):(e.classList.remove("error"),e.classList.add("correct"))}))})),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelectorAll(".benefits__item"),n=document.querySelector(".benefits__arrow--left"),o=document.querySelector(".benefits__arrow--right");let r,l,s,a=0;r=document.body.offsetWidth>=576?e.clientWidth/3:e.clientWidth,t.forEach((e=>{e.style.minWidth=`${r}px`})),n.addEventListener("click",(()=>{document.body.offsetWidth>=576?(a+=r,+a===r?(l=t[t.length-1].cloneNode(!0),s=t[t.length-2].cloneNode(!0),e.insertBefore(s,t[0]),e.insertBefore(l,t[0]),e.style.transform=`translateX(${-a}px)`):+a==2*r?e.style.transform="translateX(0px)":+a==3*r?(a=-(t.length-3)*r,e.style.transform=`translateX(${a}px)`,l.remove(),s.remove()):e.style.transform=`translateX(${a}px)`):(a+=r,a>0&&(a=-(t.length-1)*r),e.style.transform=`translateX(${a}px)`)})),o.addEventListener("click",(()=>{document.body.offsetWidth>=576?(a-=r,Math.abs(+a)===(t.length-2)*r?(l=t[0].cloneNode(!0),s=t[1].cloneNode(!0),e.append(l),e.append(s),e.style.transform=`translateX(${a}px)`):Math.abs(+a)===t.length*r?(a=0,e.style.transform=`translateX(${a}px)`,l.remove(),s.remove()):e.style.transform=`translateX(${a}px)`):(a-=r,a===-t.length*r&&(a=0),e.style.transform=`translateX(${a}px)`)}))})(),e(),window.addEventListener("resize",(()=>{e()}),!1);const o=document.querySelectorAll(".countdown");0!==o.length&&o.forEach((e=>{((e,t)=>{const n=e.querySelector(".count_1 > span"),o=e.querySelector(".count_2 > span"),r=e.querySelector(".count_3 > span"),l=e.querySelector(".count_4 > span");let s;const a=e=>e<10?e="0"+e:e,c=function(){let e=(()=>{let e=(new Date(t).getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/86400),hours:Math.floor(e/60/60%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();e.timeRemaining>0?(n.textContent=a(e.days),o.textContent=a(e.hours),r.textContent=a(e.minutes),l.textContent=a(e.seconds)):(n.textContent="00",o.textContent="00",r.textContent="00",l.textContent="00",clearInterval(s))};c(),s=setInterval(c,1e3)})(e,"29 december 2021 23:30:00")})),document.body.classList.contains("balkony")&&(()=>{const e=document.querySelector("#calc > .container"),t=document.getElementById("calc-type"),n=document.getElementById("calc-type-material"),o=document.getElementById("calc-input"),r=document.getElementById("calc-total");e.addEventListener("input",(e=>{e.target!==t&&e.target!==n&&e.target!==o||(e.target===o?e.target.value=e.target.value.replace("/D/g",""):e.target.value,(()=>{let e=0;const l=+o.value,s=+t.value,a=+n.value;e=s&&a?l*s*a:0,(({timing:e,draw:t,duration:n})=>{let o=performance.now();requestAnimationFrame((function r(l){let s=(l-o)/n;s>1&&(s=1);let a=e(s);t(a),s<1&&requestAnimationFrame(r)}))})({duration:1e3,timing:e=>e,draw(t){r.value=parseInt(t*e)}})})())}))})();const r=document.querySelectorAll("form");0!==r.length?r.forEach((e=>{n({formId:e.id,someElem:[{type:"input",id:"calc-total"}]})})):console.log("Упс.. Формы потерялись..")})();